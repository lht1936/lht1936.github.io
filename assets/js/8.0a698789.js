(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{159:function(s,a,t){"use strict";t.r(a);var o=t(0),r=Object(o.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("div",{staticClass:"content"},[t("h2",{attrs:{id:"title-使用gradle对asciidoc文档进行编译-date-2017-02-10-09-04-07tags-gralde-asciidoc-elasticsearchcategories-java"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#title-使用gradle对asciidoc文档进行编译-date-2017-02-10-09-04-07tags-gralde-asciidoc-elasticsearchcategories-java","aria-hidden":"true"}},[s._v("#")]),s._v(' title: "使用gradle对asciidoc文档进行编译"\ndate: 2017-02-10 09:04:07\ntags: Gralde, asciidoc, ElasticSearch\ncategories: Java')]),t("p",[s._v("最近在学习使用Elasticsearch，当然先从文档入手，但是它的文档只能在线看，对于我这种经常处于无wifi状态的人来说，\n是必须需要一个离线文档的。所以下载了源码包，里面包含了文档，都是asciidoc的文件格式，自己编译生成一个吧。")]),t("p",[s._v("asciidoc也是类似于Markdown的一种内容编写格式，自己google哈。")]),t("p",[s._v("##编译步骤")]),t("ol",[t("li",[s._v("使用gradle插件进行编译\n因为整个Elasticsearch项目是用gradle来编译生成的，而且源码包的docs目录下也有build.gradle文件，就想到肯定是用\ngradle来进行编译，但是在源码根目录执行gradle assemble并不能编译asciidoc文件，没有任何文档生成。google后才知\n道需要专门的文本解析器asciidoctor，并且它提供了gralde的插件。")]),t("li",[s._v("安装gradle asciidoctor插件\n在docs目录将build.gradle重命名进行备份，新建文件build.gradle，输入以下内容：")])]),t("div",{staticClass:"language-sh extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[s._v("buildscript {\n        repositories {\n                jcenter()\n        }\n\n        dependencies {\n                classpath 'org.asciidoctor:asciidoctor-gradle-plugin:1.5.0'\n        }\n\n\n}\n\napply plugin: 'org.asciidoctor.gradle.asciidoctor'\n\nasciidoctor {\n        logDocuments = true\n        sourceDir = file('reference')\n        outputDir = file('build/docs123')\n}\n")])])]),t("p",[s._v("sourceDir表示要编译的文档目录，它是一个相对目录，所以上面就表示要编译的文档在docs的reference目录下，asciidoctor会递归处理子目录。")]),t("p",[s._v("如果docs目录下有多个子目录，你可能会想直接用.来表示当前目录，然后处理docs下的所有文档目录，但是使用这种方法，\n编译后会报以下错误：")]),t("div",{staticClass:"language-java extra-class"},[t("pre",{pre:!0,attrs:{class:"language-java"}},[t("code",[s._v("Caused by"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" java"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("io"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("FileNotFoundException"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),s._v(" "),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("Users"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("hongtinglin"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("Java"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("elasticsearch"),t("span",{attrs:{class:"token operator"}},[s._v("-")]),t("span",{attrs:{class:"token number"}},[s._v("5.2")]),t("span",{attrs:{class:"token number"}},[s._v(".0")]),t("span",{attrs:{class:"token operator"}},[s._v("-")]),s._v("src"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("build"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),s._v("docs123"),t("span",{attrs:{class:"token operator"}},[s._v("/")]),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("DS_Store "),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("File name too "),t("span",{attrs:{class:"token keyword"}},[s._v("long")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n\tat org"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("asciidoctor"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("gradle"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("AsciidoctorTask"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{attrs:{class:"token function"}},[s._v("processSourceDir")]),t("span",{attrs:{class:"token punctuation"}},[s._v("(")]),s._v("AsciidoctorTask"),t("span",{attrs:{class:"token punctuation"}},[s._v(".")]),s._v("groovy"),t("span",{attrs:{class:"token operator"}},[s._v(":")]),t("span",{attrs:{class:"token number"}},[s._v("224")]),t("span",{attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])])]),t("p",[s._v("暂时没有想到其它办法，就一个个目录编译过去吧。")])])}],!1,null,null,null);a.default=r.exports}}]);